language: node_js
node_js:
  - lts/*
install:
  - yarn install # npm ci
script:
  - yarn docs:build # npm run docs:build
deploy:
  - provider: pages
    target_branch: master
    skip_cleanup: true
    local_dir: docs/.vuepress/dist
    github_token: $GITHUB_TOKEN # A token generated on GitHub allowing Travis to push code on you repository. Set in the Travis settings page of your repository, as a secure variable
    keep_history: true
    on:
      branch: sources
  - provider: script
    script: bash -c "$(curl -fsSL https://gist.githubusercontent.com/trolologuy/c290ac3edc46fe6bc2b69ccc497cd4bc/raw/63b5796eff08f039bad497aabe65ed2abbcf473d/telegram-notifier.sh)"
    on:
      branch: sources


